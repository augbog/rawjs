<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/LinkedList/index.js | raw</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Data structures in JS"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="raw"><meta property="twitter:description" content="Data structures in JS"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#linkedlist">LinkedList</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/LinkedList/index.js~LinkedList.html">LinkedList</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#node">Node</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Node/index.js~Node.html">Node</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/LinkedList/index.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/*
 * LinkedList
 * @flow
 */

import { isNumber } from &apos;lodash&apos;;
import { Node } from &apos;../&apos;;

class LinkedList {
  head: ?Node;
  length: number;

  constructor() {
    this.head = null;
    this.length = 0;
  }

  /**
   * Inserts the value into a node at the end of the list, recursively.
   */
  insert = (value: any, node: ?Node = this.head): LinkedList =&gt; {
    if (node == null) {
      this.head = new Node(value);
      this.length += 1;
      return this;
    }

    if (node.next == null) {
      node.next = new Node(value);
      this.length += 1;
      return this;
    }

    return this.insert(value, node.next);
  };

  /**
   * Inserts the value into a node with a specific position in the list.
   */
  insertAt = (value: any, position: number): LinkedList =&gt; {
    this._checkIsInBounds(position);
    // new Node, to be inserted
    const node = new Node(value);

    if (position === 0) {
      node.next = this.head;
      this.head = node;
    } else {
      const prev = this.findAt(position - 1);
      const { next } = prev;
      node.next = next;
      prev.next = node;
    }
    this.length += 1;
    return this;
  };

  /**
   * Inserts the value into a node at the beginning of the list, as the head.
   */
  insertFirst = (value: any): LinkedList =&gt; {
    return this.insertAt(value, 0);
  };

  /**
   * Returns the first node with a value matching that provided.
   */
  get = (value: any): ?Node =&gt; {
    let current = this.head;
    for (let i = 0; i &lt; this.length; i++) {
      if (current &amp;&amp; current.value === value) {
        return current;
      }
      current = current &amp;&amp; current.next;
    }
    return null;
  };

  /**
   * Finds the node located at the provided position.
   */
  findAt = (position: number): any =&gt; {
    this._checkIsInBounds(position);

    let current = this.head;
    for (let i = 0; i &lt; position; i++) {
      current = current &amp;&amp; current.next;
    }
    return current;
  };

  /**
   * Search the list for the first node containing the value provided using a strict
   * equality comparison and return the index.
   */
  positionOf = (value: any): number =&gt; {
    let current = this.head;
    for (let i = 0; i &lt; this.length; i++) {
      if (current &amp;&amp; current.value === value) {
        return i;
      }
      current = current &amp;&amp; current.next;
    }
    return -1;
  };

  /**
   * Deletes the the first node with the value provided, returning the value deleted.
   */
  deleteAt = (position: number): any =&gt; {
    if (this.head == null) {
      // Cannot delete from an empty list
      return null;
    }

    if (position === 0) {
      const target = this.head;
      this.head = target.next;
      this.length -= 1;
      return target.value;
    }

    this._checkIsInBounds(position);
    const prev = this.findAt(position - 1);
    // Find item to delete and set the previous node&apos;s next to the deleted node&apos;s next
    const target = prev.next;
    prev.next = target.next;
    this.length -= 1;
    return target.value;
  };

  /**
   * Deletes the the first node with the value provided, returning the value deleted.
   */
  delete = (value: any): any =&gt; {
    try {
      const position = this.positionOf(value);
      return this.deleteAt(position);
    } catch (e) {
      return null;
    }
  };

  toArray = (): any[] =&gt; {
    const array = [];
    if (this.head == null) {
      return array;
    }
    let current = this.head;
    for (let i = 0; i &lt; this.length; i++) {
      array.push(current.value);
      current = current.next;
    }
    return array;
  };

  _checkIsNumber = (num: ?number): boolean =&gt; {
    if (!isNumber(num)) {
      throw new Error(&apos;Provided position is invalid&apos;);
    }
    return true;
  };

  _checkIsInBounds = (num: number): boolean =&gt; {
    this._checkIsNumber(num);
    if (num &gt;= this.length || num &lt; 0) {
      throw new Error(&apos;Provided position is out of bounds&apos;);
    }
    return true;
  };
}

export default LinkedList;
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
